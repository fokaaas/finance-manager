# Відповідь на теоретичне питання

Насамперед для фільтрації повідомлень створених у певному часовому діапазані необхідно додати
атрибут, який би містив дату створення запису (напр. `created_at`), до таблиці з повідомленнями.
Для отримання пов'язаних з цими повідомленнями діалогів треба використати інклюди (в ORM Prisma).
При цьому ORM гарантує, що будуть фільтруватися лише повідомлення.

Для отрмання до 50000 об'єктів за один запит можна використати пагінацію. Вона дозволяє поступово (порціями)
отримувати об'єкти з бази даних. Це зменшує навантаження на сервер та зменшує час очікування, що
є дуже важливим для оптимізації.

Також для оптимізації запитів можна використовувати нативні SQL-запити разом з джоінами, які є значно швидшими за ORM-запити.
Для цього можна використати метод `queryRaw` у Prisma.

Для пришвидшення оновлення інформаці на діаграмі варто розглянути використання WebSocket для реального часу оновлення
даних на діаграмі, щоб користувачі могли отримувати найсвіжішу інформацію без необхідності чекати 3 секунди.

Хорошою практикою також є застосування кешування для часто використовуваних запитів, що дозволяє зменшити час відповіді сервера.
Або ж можна використати систему кешування, таку як Redis, для тимчасового зберігання результатів запиту та уникнення зайвих 
обчислень при повторних запитах з тим же часовим діапазоном.

Оскільки ми розглядаємо досить масштабну систему, то варто використовувати інструменти моніторингу (напр. New Relic або Datadog) для виявлення слабких місць у системі та їх подальшої оптимізації. 